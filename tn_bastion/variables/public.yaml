####################################
##
## Component metadata
## 
####################################
component_name: "tn_bastion"
metadata:
  family: bootstrap
  maintainers: 
    - Jesus Macias Portela <jesus.maciasportela@telefonica.com>
    - Ana Isabel Lara García <anaisabel.laragarcia@telefonica.com>
    - Álvaro Curto Merino <alvaro.curtomerino@telefonica.com>
  version: 0.0.1
  depends: 
    - tn_vxlan:
        version: ">=0.0.1"
  short_description: This is a VM that acts as bastion for a Trial Network
  long_description: |
    It is the component that will host various network services and manage external access to the Trial Network:
    - DHCP server
    - NTP server
    - Public network masquerading
    - Port forwarding
    - DNS server
    - VPN Server
    In this version the only service available is VPN Server
  platforms: [one]
  sites: [uma, athens, fokus]

####################################
##
## Component public variables
## 
####################################
public:
  one_component_networks:
    description: List of VNets the tn_bastion will be part of. Variable to be filled by the TNLCM
    type: "strlist"
    value:
      - "mandatory-tn_vxlan"
    user_input: false
    optional: false

###################################################
##
## Output component variables that 
## should be keeped by the TNLCM 
## 
###################################################
outputs:
  vm_ip: "Main Network Interface"
  vpn_client_config: "VPN Client config to connect to this Trial Network"
