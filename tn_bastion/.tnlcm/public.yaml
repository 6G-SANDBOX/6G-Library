######################################################
##
## Component public variables
##
## Variables accesible to the experimenter.
##
## They are contained inside 4 global variables
## with all required info:
##   1. name: name of the component
##
##   2. metadata: General information like mantainers,
##      component dependencies and allowed platforms
##
##   3. input: Customizable variables for each
##      deployment to be filled by the experimenter
##      or the TNLCM
##
##   4. output: Values sent to the TNLCM callback to
##      keep track of the TN deployments
##
## File previously found at "public/description.yaml"
##
######################################################


####################################
## Component name
####################################
name: tn_bastion

####################################
## Component metadata
####################################
metadata:
  maintainers:
    - Jesus Macias Portela <jesus.maciasportela@telefonica.com>
    - Ana Isabel Lara García <anaisabel.laragarcia@telefonica.com>
    - Álvaro Curto Merino <alvaro.curtomerino@telefonica.com>
  needs:
  short_description: This is a VM that acts as bastion for a Trial Network
  long_description: |
    It is the component that will host various network services and manage external access to the Trial Network:
    - DHCP server
    - NTP server
    - Public network masquerading
    - Port forwarding
    - DNS server
    - VPN Server
    In this version the only service available is VPN Server
  hypervisors: [one]
  sites: [uma, athens, fokus]

####################################
## Component input
####################################
input:
  one_component_networks:
    description: List of VNet IDs the tn_bastion will be part of. Variable to be filled by the TNLCM
    type: "strlist"
    value:
      - "mandatory-tn_vxlan"
    user_input: false

####################################
## Component input
####################################
output:
  vm_ip:             # Main Network Interface
  vpn_client_config: # VPN Client config to connect to this Trial Network
