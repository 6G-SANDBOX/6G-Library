# {{ tn_id }}-tn_bastion

The component `{{ tn_id }}-tn_bastion` has been successfully created.
The **`tn_bastion`** is the main Virtual Machine of the Trial Network, serving as its default gateway, firewall, DNS server and VPN server.

## Important information:

- **OpenNebula VM ID**: `{{ tn_bastion_id }}`
- **VM network interfaces**:
```json
{{ tn_bastion_ips | to_nice_json(indent=8) }}
```

#### SSH keypair
A pair of ed25519 ssh keys is created as part of the **`tn_bastion`**'s deployment.
Use the private key for ssh access to other component's with user *`tnuser`*

> WARNING
> The **`tn_bastion`** VM is not meant to be accessed by experimenters, so it has no *`tnuser`* created

**Public key**:
```
{{ hostvars['tn_bastion']['tn_ssh_public_key']['content'] | b64decode | trim }}
```
**Private key**:
```
{{ hostvars['tn_bastion']['tn_ssh_private_key']['content'] | b64decode | trim }}
```

#### Wireguard VPN client config

Access to the Trial Network can be performed using one of the following Wireguard VPN client configuration files:
{% for client in hostvars['tn_bastion']['tn_wg_clients']  %}
**wg_client{{ loop.index - 1}}**:
```TOML
{{ client | b64decode }}
```
{% endfor %}

> WARNING
> Only one experimenter can use the same VPN client simultaneously.

#### Technitium DNS Server

You can access the Technitium DNS web Portal from [http://bastion.{{ tn_id }}.{{ site_domain }}:5380](http://tn_bastion.{{ tn_id }}.{{ site_domain }}:5380)
Credentials to login are:
- user: `admin`
- password: `{{ tn_bastion_dns_password }}`
