####################################
##
## Component metadata
## 
####################################
component_name: ueransim
metadata: 
  maintainers: 
    - Jesus Macias Portela <jesus.maciasportela@telefonica.com>
    - Ana Isabel Lara García <anaisabel.laragarcia@telefonica.com>
    - Álvaro Curto Merino <alvaro.curtomerino@telefonica.com>
  version: 1.1.0
  short_description: This is the component to deploy a UERANSIM instance 
  long_description: |
    This is the component to deploy a UERANSIM instance into a Trial Network. It can be deployed as:
    - UE
    - gNB
  platforms: [one]
  sites: [uma]

###################################################
##
## Public component variables that 
## should be filled by the experimenter or 
## the TNLCM. Some of them could be optional
## 
###################################################
public:
  one_component_name:
    type: string
    value: "PLACEHOLDER_VM_NAME"
  one_vm_username: 
    type: string
    value: username
  one_vm_password:
    type: string
    value: password
  one_vm_ssh_key:
    type: string
    value: ""
  oneke_vnf:
    type: string
    value: "127.0.0.1"

  run_gnb:
    # string because it actually is not a boolean variables. quotes are relevant so that ansible doesn't take NO as "false". string must be literally "YES" or "NO" (opennebula booleans)
    type: string
    value: "NO"
  gnb_mcc:
    # string because 001 is not the same as 1. quotes are relevant
    type: string
    value: "999"
  gnb_mnc:
    # string because 01 is not the same as 1. quotes are relevant
    type: string
    value: "70"
  gnb_tac:
    type: string
    value: "1"
  gnb_amf_address:
    type: string
    value: "127.0.0.5"
  gnb_slices_sst:
    type: int
    value: 1
  gnb_slices_sd:
    type: int
    value: 1

  run_ue:
     # string because it actually is not a boolean variables. quotes are relevant so that ansible doesn't take NO as "false". string must be literally "YES" or "NO" (opennebula booleans)
     type: string
     value: "NO"
  ue_supi:
    type: string
    value: 'imsi-999700000000001'
  ue_mcc:
    # string because 001 is not the same as 1. quotes are relevant
    type: string
    value: "999"
  ue_mnc:
    # string because 01 is not the same as 1. quotes are relevant
    type: string
    value: "70"
  ue_key:
    type: string
    value: 465B5CE8B199B49FAA5F0A2EE238A6BC
  ue_op:
    type: string
    value: E8ED289DEBA952E4283B54E88E6183CA
  ue_gnbSearchList:
    type: string
    value: "127.0.0.1"
  ue_session_apn:
    type: string
    value: internet
  ue_session_sst:
    type: int
    value: 1
  ue_session_sd:
    type: int
    value:
  ue_configured_nssai_sst:
    type: int
    value: 1
  ue_configured_nssai_sd:
    type: int
    value:
  ue_default_nssai_sst:
    type: int
    value: 1
  ue_default_nssai_sd:
    type: int
    value: 1
  one_component_networks:
    type: list
    value:
      - 47           # First one MUST BE the tn_vxlan VNET
    #  - 0           # Additional VNETs for debugging purposes

###################################################
##
## Output component variables that should be keeped by the TNLCM 
## sufixing them with {{ tn_id }}-{{ one_component_name }}-
## 
###################################################
outputs:
  network_assignments: "OpenNebula VM Network Assignments"
  vm_id: "OpenNebula VM ID"
